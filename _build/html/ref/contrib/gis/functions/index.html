

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Geographic Database Functions &mdash; Django 1.10.dev20160423182652 文档</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Django 1.10.dev20160423182652 文档" href="../../../../"/>
        <link rel="up" title="GeoDjango" href="../"/>
        <link rel="next" title="Measurement Objects" href="../measure/"/>
        <link rel="prev" title="GeoQuerySet API Reference" href="../geoquerysets/"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../contents/" class="icon icon-home"> Django
          

          
          </a>

          
            
            
              <div class="version">
                1.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../">Django 最新中文文档</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../intro/">开始</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../topics/">Using Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../howto/">&#8220;How-to&#8221; guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq/">Django FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../applications/">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../checks/">System check framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../class-based-views/">Built-in class-based views API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../clickjacking/">Clickjacking Protection</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../"><code class="docutils literal"><span class="pre">contrib</span></code> packages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../admin/">The Django admin site</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auth/"><code class="docutils literal"><span class="pre">django.contrib.auth</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contenttypes/">The contenttypes framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flatpages/">The flatpages app</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../">GeoDjango</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../tutorial/">GeoDjango Tutorial</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/">GeoDjango Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../model-api/">GeoDjango Model API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../db-api/">GeoDjango Database API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../forms-api/">GeoDjango Forms API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geoquerysets/">GeoQuerySet API Reference</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="">Geographic Database Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../measure/">Measurement Objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geos/">GEOS API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../gdal/">GDAL API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geoip/">Geolocation with GeoIP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../geoip2/">Geolocation with GeoIP2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/">GeoDjango Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../commands/">GeoDjango Management Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/">GeoDjango&#8217;s admin site</a></li>
<li class="toctree-l4"><a class="reference internal" href="../feeds/">Geographic Feeds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sitemaps/">Geographic Sitemaps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../testing/">Testing GeoDjango apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deployment/">Deploying GeoDjango</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../humanize/"><code class="docutils literal"><span class="pre">django.contrib.humanize</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../messages/">The messages framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../postgres/"><code class="docutils literal"><span class="pre">django.contrib.postgres</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../redirects/">The redirects app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sitemaps/">The sitemap framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sites/">The &#8220;sites&#8221; framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../staticfiles/">The <code class="docutils literal"><span class="pre">staticfiles</span></code> app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../syndication/">The syndication feed framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#admin"><code class="docutils literal"><span class="pre">admin</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#auth"><code class="docutils literal"><span class="pre">auth</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#contenttypes"><code class="docutils literal"><span class="pre">contenttypes</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#flatpages"><code class="docutils literal"><span class="pre">flatpages</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#gis"><code class="docutils literal"><span class="pre">gis</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#humanize"><code class="docutils literal"><span class="pre">humanize</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#messages"><code class="docutils literal"><span class="pre">messages</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#postgres"><code class="docutils literal"><span class="pre">postgres</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#redirects"><code class="docutils literal"><span class="pre">redirects</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#sessions"><code class="docutils literal"><span class="pre">sessions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#sites"><code class="docutils literal"><span class="pre">sites</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#sitemaps"><code class="docutils literal"><span class="pre">sitemaps</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#syndication"><code class="docutils literal"><span class="pre">syndication</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../#other-add-ons">Other add-ons</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../csrf/">Cross Site Request Forgery protection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../databases/">Databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../django-admin/"><code class="docutils literal"><span class="pre">django-admin</span></code> and <code class="docutils literal"><span class="pre">manage.py</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../django-admin/#running-management-commands-from-your-code">Running management commands from your code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../exceptions/">Django Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../files/">File handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../forms/">Forms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../middleware/">Middleware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../migration-operations/">Migration Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../models/">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../request-response/">Request and response objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../schema-editor/"><code class="docutils literal"><span class="pre">SchemaEditor</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../settings/">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../signals/">Signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../templates/">Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../template-response/"><code class="docutils literal"><span class="pre">TemplateResponse</span></code> and <code class="docutils literal"><span class="pre">SimpleTemplateResponse</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../unicode/">Unicode data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../urlresolvers/"><code class="docutils literal"><span class="pre">django.urls</span></code> utility functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../urls/"><code class="docutils literal"><span class="pre">django.conf.urls</span></code> utility functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../utils/">Django Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../validators/">Validators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../views/">Built-in Views</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../misc/">元文件和杂记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../glossary/">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../releases/">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../internals/">Django internals</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../contents/">Django</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../contents/">Docs</a> &raquo;</li>
      
          <li><a href="../../../">API Reference</a> &raquo;</li>
      
          <li><a href="../../"><code class="docutils literal"><span class="pre">contrib</span></code> packages</a> &raquo;</li>
      
          <li><a href="../">GeoDjango</a> &raquo;</li>
      
    <li>Geographic Database Functions</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/ref/contrib/gis/functions.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="s-module-django.contrib.gis.db.models.functions">
<span id="s-geographic-database-functions"></span><span id="module-django.contrib.gis.db.models.functions"></span><span id="geographic-database-functions"></span><h1>Geographic Database Functions<a class="headerlink" href="#module-django.contrib.gis.db.models.functions" title="永久链接至标题">¶</a></h1>
<div class="versionadded">
<span class="title">New in Django 1.9.</span> </div>
<p>The functions documented on this page allow users to access geographic database
functions to be used in annotations, aggregations, or filters in Django.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.contrib.gis.db.models.functions</span> <span class="kn">import</span> <span class="n">Length</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Track</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">Length</span><span class="p">(</span><span class="s1">&#39;line&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">length__gt</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>Not all backends support all functions, so refer to the documentation of each
function to see if your database backend supports the function you want to use.
If you call a geographic function on a backend that doesn&#8217;t support it, you&#8217;ll
get a <code class="docutils literal"><span class="pre">NotImplementedError</span></code> exception.</p>
<p>Function&#8217;s summary:</p>
<table class="docutils">
<colgroup>
<col width="15%" />
<col width="19%" />
<col width="18%" />
<col width="16%" />
<col width="15%" />
<col width="18%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Measurement</th>
<th class="head">Relationships</th>
<th class="head">Operations</th>
<th class="head">Editors</th>
<th class="head">Output format</th>
<th class="head">Miscellaneous</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#django.contrib.gis.db.models.functions.Area" title="django.contrib.gis.db.models.functions.Area"><code class="xref py py-class docutils literal"><span class="pre">Area</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.BoundingCircle" title="django.contrib.gis.db.models.functions.BoundingCircle"><code class="xref py py-class docutils literal"><span class="pre">BoundingCircle</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.Difference" title="django.contrib.gis.db.models.functions.Difference"><code class="xref py py-class docutils literal"><span class="pre">Difference</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.ForceRHR" title="django.contrib.gis.db.models.functions.ForceRHR"><code class="xref py py-class docutils literal"><span class="pre">ForceRHR</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.AsGeoJSON" title="django.contrib.gis.db.models.functions.AsGeoJSON"><code class="xref py py-class docutils literal"><span class="pre">AsGeoJSON</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.IsValid" title="django.contrib.gis.db.models.functions.IsValid"><code class="xref py py-class docutils literal"><span class="pre">IsValid</span></code></a></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#django.contrib.gis.db.models.functions.Distance" title="django.contrib.gis.db.models.functions.Distance"><code class="xref py py-class docutils literal"><span class="pre">Distance</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.Centroid" title="django.contrib.gis.db.models.functions.Centroid"><code class="xref py py-class docutils literal"><span class="pre">Centroid</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.Intersection" title="django.contrib.gis.db.models.functions.Intersection"><code class="xref py py-class docutils literal"><span class="pre">Intersection</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.MakeValid" title="django.contrib.gis.db.models.functions.MakeValid"><code class="xref py py-class docutils literal"><span class="pre">MakeValid</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.AsGML" title="django.contrib.gis.db.models.functions.AsGML"><code class="xref py py-class docutils literal"><span class="pre">AsGML</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.MemSize" title="django.contrib.gis.db.models.functions.MemSize"><code class="xref py py-class docutils literal"><span class="pre">MemSize</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#django.contrib.gis.db.models.functions.Length" title="django.contrib.gis.db.models.functions.Length"><code class="xref py py-class docutils literal"><span class="pre">Length</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.Envelope" title="django.contrib.gis.db.models.functions.Envelope"><code class="xref py py-class docutils literal"><span class="pre">Envelope</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.SymDifference" title="django.contrib.gis.db.models.functions.SymDifference"><code class="xref py py-class docutils literal"><span class="pre">SymDifference</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.Reverse" title="django.contrib.gis.db.models.functions.Reverse"><code class="xref py py-class docutils literal"><span class="pre">Reverse</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.AsKML" title="django.contrib.gis.db.models.functions.AsKML"><code class="xref py py-class docutils literal"><span class="pre">AsKML</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.NumGeometries" title="django.contrib.gis.db.models.functions.NumGeometries"><code class="xref py py-class docutils literal"><span class="pre">NumGeometries</span></code></a></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#django.contrib.gis.db.models.functions.Perimeter" title="django.contrib.gis.db.models.functions.Perimeter"><code class="xref py py-class docutils literal"><span class="pre">Perimeter</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.PointOnSurface" title="django.contrib.gis.db.models.functions.PointOnSurface"><code class="xref py py-class docutils literal"><span class="pre">PointOnSurface</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.Union" title="django.contrib.gis.db.models.functions.Union"><code class="xref py py-class docutils literal"><span class="pre">Union</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.Scale" title="django.contrib.gis.db.models.functions.Scale"><code class="xref py py-class docutils literal"><span class="pre">Scale</span></code></a>
<a class="reference internal" href="#django.contrib.gis.db.models.functions.SnapToGrid" title="django.contrib.gis.db.models.functions.SnapToGrid"><code class="xref py py-class docutils literal"><span class="pre">SnapToGrid</span></code></a>
<a class="reference internal" href="#django.contrib.gis.db.models.functions.Transform" title="django.contrib.gis.db.models.functions.Transform"><code class="xref py py-class docutils literal"><span class="pre">Transform</span></code></a>
<a class="reference internal" href="#django.contrib.gis.db.models.functions.Translate" title="django.contrib.gis.db.models.functions.Translate"><code class="xref py py-class docutils literal"><span class="pre">Translate</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.AsSVG" title="django.contrib.gis.db.models.functions.AsSVG"><code class="xref py py-class docutils literal"><span class="pre">AsSVG</span></code></a>
<a class="reference internal" href="#django.contrib.gis.db.models.functions.GeoHash" title="django.contrib.gis.db.models.functions.GeoHash"><code class="xref py py-class docutils literal"><span class="pre">GeoHash</span></code></a></td>
<td><a class="reference internal" href="#django.contrib.gis.db.models.functions.NumPoints" title="django.contrib.gis.db.models.functions.NumPoints"><code class="xref py py-class docutils literal"><span class="pre">NumPoints</span></code></a></td>
</tr>
</tbody>
</table>
<div class="section" id="s-area">
<span id="area"></span><h2><code class="docutils literal"><span class="pre">Area</span></code><a class="headerlink" href="#area" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Area">
<em class="property">class </em><code class="descname">Area</code>(<em>expression</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Area" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: MySQL, Oracle, PostGIS, SpatiaLite</p>
<p>Accepts a single geographic field or expression and returns the area of the
field as an <a class="reference internal" href="../measure/#django.contrib.gis.measure.Area" title="django.contrib.gis.measure.Area"><code class="xref py py-class docutils literal"><span class="pre">Area</span></code></a> measure. On MySQL, a raw
float value is returned, as it&#8217;s not possible to automatically determine the
unit of the field.</p>
</div>
<div class="section" id="s-asgeojson">
<span id="asgeojson"></span><h2><code class="docutils literal"><span class="pre">AsGeoJSON</span></code><a class="headerlink" href="#asgeojson" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.AsGeoJSON">
<em class="property">class </em><code class="descname">AsGeoJSON</code>(<em>expression</em>, <em>bbox=False</em>, <em>crs=False</em>, <em>precision=8</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.AsGeoJSON" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: PostGIS, SpatiaLite</p>
<p>Accepts a single geographic field or expression and returns a <a class="reference external" href="http://geojson.org/">GeoJSON</a> representation of the geometry. Note that the result is
not a complete GeoJSON structure but only the <code class="docutils literal"><span class="pre">geometry</span></code> key content of a
GeoJSON structure. See also <a class="reference internal" href="../serializers/"><em>GeoJSON Serializer</em></a>.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">City</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">json</span><span class="o">=</span><span class="n">AsGeoJSON</span><span class="p">(</span><span class="s1">&#39;point&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Chicago&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">json</span>
<span class="go">{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[-87.65018,41.85039]}</span>
</pre></div>
</div>
<table class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Keyword Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">bbox</span></code></td>
<td>Set this to <code class="docutils literal"><span class="pre">True</span></code> if you want the bounding box
to be included in the returned GeoJSON.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">crs</span></code></td>
<td>Set this to <code class="docutils literal"><span class="pre">True</span></code> if you want the coordinate
reference system to be included in the returned
GeoJSON.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">precision</span></code></td>
<td>It may be used to specify the number of significant
digits for the coordinates in the GeoJSON
representation &#8211; the default value is 8.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="s-asgml">
<span id="asgml"></span><h2><code class="docutils literal"><span class="pre">AsGML</span></code><a class="headerlink" href="#asgml" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.AsGML">
<em class="property">class </em><code class="descname">AsGML</code>(<em>expression</em>, <em>version=2</em>, <em>precision=8</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.AsGML" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: Oracle, PostGIS, SpatiaLite</p>
<p>Accepts a single geographic field or expression and returns a <a class="reference external" href="https://en.wikipedia.org/wiki/Geography_Markup_Language">Geographic Markup
Language (GML)</a> representation of the geometry.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">qs</span> <span class="o">=</span> <span class="n">Zipcode</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">gml</span><span class="o">=</span><span class="n">AsGML</span><span class="p">(</span><span class="s1">&#39;poly&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">qs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">gml</span><span class="p">)</span>
<span class="go">&lt;gml:Polygon srsName=&quot;EPSG:4326&quot;&gt;&lt;gml:OuterBoundaryIs&gt;-147.78711,70.245363 ...</span>
<span class="go">-147.78711,70.245363&lt;/gml:OuterBoundaryIs&gt;&lt;/gml:Polygon&gt;</span>
</pre></div>
</div>
<table class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Keyword Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">precision</span></code></td>
<td>Not used on Oracle. It may be used to specify the number
of significant digits for the coordinates in the GML
representation &#8211; the default value is 8.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">version</span></code></td>
<td>Not used on Oracle. It may be used to specify the GML
version used, and may only be values of 2 or 3.  The
default value is 2.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="s-askml">
<span id="askml"></span><h2><code class="docutils literal"><span class="pre">AsKML</span></code><a class="headerlink" href="#askml" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.AsKML">
<em class="property">class </em><code class="descname">AsKML</code>(<em>expression</em>, <em>precision=8</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.AsKML" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: PostGIS, SpatiaLite</p>
<p>Accepts a single geographic field or expression and returns a <a class="reference external" href="https://developers.google.com/kml/documentation/">Keyhole Markup
Language (KML)</a> representation of the geometry.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">qs</span> <span class="o">=</span> <span class="n">Zipcode</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">kml</span><span class="o">=</span><span class="n">AsKML</span><span class="p">(</span><span class="s1">&#39;poly&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">qs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">kml</span><span class="p">)</span>
<span class="go">&lt;Polygon&gt;&lt;outerBoundaryIs&gt;&lt;LinearRing&gt;&lt;coordinates&gt;-103.04135,36.217596,0 ...</span>
<span class="go">-103.04135,36.217596,0&lt;/coordinates&gt;&lt;/LinearRing&gt;&lt;/outerBoundaryIs&gt;&lt;/Polygon&gt;</span>
</pre></div>
</div>
<table class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Keyword Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">precision</span></code></td>
<td>This keyword may be used to specify the number of
significant digits for the coordinates in the KML
representation &#8211; the default value is 8.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="s-assvg">
<span id="assvg"></span><h2><code class="docutils literal"><span class="pre">AsSVG</span></code><a class="headerlink" href="#assvg" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.AsSVG">
<em class="property">class </em><code class="descname">AsSVG</code>(<em>expression</em>, <em>relative=False</em>, <em>precision=8</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.AsSVG" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: PostGIS, SpatiaLite</p>
<p>Accepts a single geographic field or expression and returns a <a class="reference external" href="http://www.w3.org/Graphics/SVG/">Scalable Vector
Graphics (SVG)</a> representation of the geometry.</p>
<table class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Keyword Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">relative</span></code></td>
<td>If set to <code class="docutils literal"><span class="pre">True</span></code>, the path data will be implemented
in terms of relative moves. Defaults to <code class="docutils literal"><span class="pre">False</span></code>,
meaning that absolute moves are used instead.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">precision</span></code></td>
<td>This keyword may be used to specify the number of
significant digits for the coordinates in the SVG
representation &#8211; the default value is 8.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="s-boundingcircle">
<span id="boundingcircle"></span><h2><code class="docutils literal"><span class="pre">BoundingCircle</span></code><a class="headerlink" href="#boundingcircle" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.BoundingCircle">
<em class="property">class </em><code class="descname">BoundingCircle</code>(<em>expression</em>, <em>num_seg=48</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.BoundingCircle" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: <a class="reference external" href="http://postgis.net/docs/ST_MinimumBoundingCircle.html">PostGIS</a></p>
<p>Accepts a single geographic field or expression and returns the smallest circle
polygon that can fully contain the geometry.</p>
</div>
<div class="section" id="s-centroid">
<span id="centroid"></span><h2><code class="docutils literal"><span class="pre">Centroid</span></code><a class="headerlink" href="#centroid" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Centroid">
<em class="property">class </em><code class="descname">Centroid</code>(<em>expression</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Centroid" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: MySQL, PostGIS, Oracle, SpatiaLite</p>
<p>Accepts a single geographic field or expression and returns the <code class="docutils literal"><span class="pre">centroid</span></code>
value of the geometry.</p>
</div>
<div class="section" id="s-difference">
<span id="difference"></span><h2><code class="docutils literal"><span class="pre">Difference</span></code><a class="headerlink" href="#difference" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Difference">
<em class="property">class </em><code class="descname">Difference</code>(<em>expr1</em>, <em>expr2</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Difference" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: MySQL (≥ 5.6.1), PostGIS, Oracle, SpatiaLite</p>
<p>Accepts two geographic fields or expressions and returns the geometric
difference, that is the part of geometry A that does not intersect with
geometry B.</p>
<div class="versionchanged">
<span class="title">Changed in Django Development version:</span> <p>MySQL support was added.</p>
</div>
</div>
<div class="section" id="s-distance">
<span id="distance"></span><h2><code class="docutils literal"><span class="pre">Distance</span></code><a class="headerlink" href="#distance" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Distance">
<em class="property">class </em><code class="descname">Distance</code>(<em>expr1</em>, <em>expr2</em>, <em>spheroid=None</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Distance" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: MySQL (≥ 5.6.1), PostGIS, Oracle, SpatiaLite</p>
<p>Accepts two geographic fields or expressions and returns the distance between
them, as a <a class="reference internal" href="../measure/#django.contrib.gis.measure.Distance" title="django.contrib.gis.measure.Distance"><code class="xref py py-class docutils literal"><span class="pre">Distance</span></code></a> object. On MySQL, a raw
float value is returned, as it&#8217;s not possible to automatically determine the
unit of the field.</p>
<p>On backends that support distance calculation on geodetic coordinates, the
proper backend function is automatically chosen depending on the SRID value of
the geometries (e.g. <code class="docutils literal"><span class="pre">ST_Distance_Sphere</span></code> on PostGIS).</p>
<p>When distances are calculated with geodetic (angular) coordinates, as is the
case with the default WGS84 (4326) SRID, you can set the <code class="docutils literal"><span class="pre">spheroid</span></code> keyword
argument to decide if the calculation should be based on a simple sphere (less
accurate, less resource-intensive) or on a spheroid (more accurate, more
resource-intensive).</p>
<p>In the following example, the distance from the city of Hobart to every other
<a class="reference internal" href="../model-api/#django.contrib.gis.db.models.PointField" title="django.contrib.gis.db.models.PointField"><code class="xref py py-class docutils literal"><span class="pre">PointField</span></code></a> in the <code class="docutils literal"><span class="pre">AustraliaCity</span></code>
queryset is calculated:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.contrib.gis.db.models.functions</span> <span class="kn">import</span> <span class="n">Distance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pnt</span> <span class="o">=</span> <span class="n">AustraliaCity</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hobart&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">point</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">city</span> <span class="ow">in</span> <span class="n">AustraliaCity</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">distance</span><span class="o">=</span><span class="n">Distance</span><span class="p">(</span><span class="s1">&#39;point&#39;</span><span class="p">,</span> <span class="n">pnt</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">city</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">city</span><span class="o">.</span><span class="n">distance</span><span class="p">)</span>
<span class="go">Wollongong 990071.220408 m</span>
<span class="go">Shellharbour 972804.613941 m</span>
<span class="go">Thirroul 1002334.36351 m</span>
<span class="gp">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">Because the <code class="docutils literal"><span class="pre">distance</span></code> attribute is a
<a class="reference internal" href="../measure/#django.contrib.gis.measure.Distance" title="django.contrib.gis.measure.Distance"><code class="xref py py-class docutils literal"><span class="pre">Distance</span></code></a> object, you can easily express
the value in the units of your choice. For example, <code class="docutils literal"><span class="pre">city.distance.mi</span></code> is
the distance value in miles and <code class="docutils literal"><span class="pre">city.distance.km</span></code> is the distance value
in kilometers. See <a class="reference internal" href="../measure/"><em>Measurement Objects</em></a> for usage details and the list of
<a class="reference internal" href="../measure/#supported-units"><span>Supported units</span></a>.</p>
</div>
</div>
<div class="section" id="s-envelope">
<span id="envelope"></span><h2><code class="docutils literal"><span class="pre">Envelope</span></code><a class="headerlink" href="#envelope" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Envelope">
<em class="property">class </em><code class="descname">Envelope</code>(<em>expression</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Envelope" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: MySQL, PostGIS, SpatiaLite</p>
<p>Accepts a single geographic field or expression and returns the geometry
representing the bounding box of the geometry.</p>
</div>
<div class="section" id="s-forcerhr">
<span id="forcerhr"></span><h2><code class="docutils literal"><span class="pre">ForceRHR</span></code><a class="headerlink" href="#forcerhr" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.ForceRHR">
<em class="property">class </em><code class="descname">ForceRHR</code>(<em>expression</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.ForceRHR" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: <a class="reference external" href="http://postgis.net/docs/ST_ForceRHR.html">PostGIS</a></p>
<p>Accepts a single geographic field or expression and returns a modified version
of the polygon/multipolygon in which all of the vertices follow the
right-hand rule.</p>
</div>
<div class="section" id="s-geohash">
<span id="geohash"></span><h2><code class="docutils literal"><span class="pre">GeoHash</span></code><a class="headerlink" href="#geohash" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.GeoHash">
<em class="property">class </em><code class="descname">GeoHash</code>(<em>expression</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.GeoHash" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: PostGIS, SpatiaLite (≥ 4.0, LWGEOM)</p>
<p>Accepts a single geographic field or expression and returns a <a class="reference external" href="https://en.wikipedia.org/wiki/Geohash">GeoHash</a>
representation of the geometry.</p>
<div class="versionchanged">
<span class="title">Changed in Django Development version:</span> <p>SpatiaLite support was added.</p>
</div>
</div>
<div class="section" id="s-intersection">
<span id="intersection"></span><h2><code class="docutils literal"><span class="pre">Intersection</span></code><a class="headerlink" href="#intersection" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Intersection">
<em class="property">class </em><code class="descname">Intersection</code>(<em>expr1</em>, <em>expr2</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Intersection" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: MySQL (≥ 5.6.1), PostGIS, Oracle, SpatiaLite</p>
<p>Accepts two geographic fields or expressions and returns the geometric
intersection between them.</p>
<div class="versionchanged">
<span class="title">Changed in Django Development version:</span> <p>MySQL support was added.</p>
</div>
</div>
<div class="section" id="s-isvalid">
<span id="isvalid"></span><h2><code class="docutils literal"><span class="pre">IsValid</span></code><a class="headerlink" href="#isvalid" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.IsValid">
<em class="property">class </em><code class="descname">IsValid</code>(<em>expr</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.IsValid" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<div class="versionadded">
<span class="title">New in Django Development version.</span> </div>
<p><em>Availability</em>: PostGIS</p>
<p>Accepts a geographic field or expression and tests if the value is well formed.
Returns <code class="docutils literal"><span class="pre">True</span></code> if its value is a valid geometry and <code class="docutils literal"><span class="pre">False</span></code> otherwise.</p>
</div>
<div class="section" id="s-length">
<span id="length"></span><h2><code class="docutils literal"><span class="pre">Length</span></code><a class="headerlink" href="#length" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Length">
<em class="property">class </em><code class="descname">Length</code>(<em>expression</em>, <em>spheroid=True</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Length" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: MySQL, Oracle, PostGIS, SpatiaLite</p>
<p>Accepts a single geographic linestring or multilinestring field or expression
and returns its length as an <a class="reference internal" href="../measure/#django.contrib.gis.measure.Distance" title="django.contrib.gis.measure.Distance"><code class="xref py py-class docutils literal"><span class="pre">Distance</span></code></a>
measure. On MySQL, a raw float value is returned, as it&#8217;s not possible to
automatically determine the unit of the field.</p>
<p>On PostGIS and SpatiaLite, when the coordinates are geodetic (angular), you can
specify if the calculation should be based on a simple sphere (less
accurate, less resource-intensive) or on a spheroid (more accurate, more
resource-intensive) with the <code class="docutils literal"><span class="pre">spheroid</span></code> keyword argument.</p>
</div>
<div class="section" id="s-makevalid">
<span id="makevalid"></span><h2><code class="docutils literal"><span class="pre">MakeValid</span></code><a class="headerlink" href="#makevalid" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.MakeValid">
<em class="property">class </em><code class="descname">MakeValid</code>(<em>expr</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.MakeValid" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<div class="versionadded">
<span class="title">New in Django Development version.</span> </div>
<p><em>Availability</em>: PostGIS</p>
<p>Accepts a geographic field or expression and attempts to convert the value into
a valid geometry without losing any of the input vertices. Geometries that are
already valid are returned without changes. Simple polygons might become a
multipolygon and the result might be of lower dimension than the input.</p>
</div>
<div class="section" id="s-memsize">
<span id="memsize"></span><h2><code class="docutils literal"><span class="pre">MemSize</span></code><a class="headerlink" href="#memsize" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.MemSize">
<em class="property">class </em><code class="descname">MemSize</code>(<em>expression</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.MemSize" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: PostGIS</p>
<p>Accepts a single geographic field or expression and returns the memory size
(number of bytes) that the geometry field takes.</p>
</div>
<div class="section" id="s-numgeometries">
<span id="numgeometries"></span><h2><code class="docutils literal"><span class="pre">NumGeometries</span></code><a class="headerlink" href="#numgeometries" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.NumGeometries">
<em class="property">class </em><code class="descname">NumGeometries</code>(<em>expression</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.NumGeometries" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: MySQL, PostGIS, Oracle, SpatiaLite</p>
<p>Accepts a single geographic field or expression and returns the number of
geometries if the geometry field is a collection (e.g., a <code class="docutils literal"><span class="pre">GEOMETRYCOLLECTION</span></code>
or <code class="docutils literal"><span class="pre">MULTI*</span></code> field); otherwise returns <code class="docutils literal"><span class="pre">None</span></code>.</p>
</div>
<div class="section" id="s-numpoints">
<span id="numpoints"></span><h2><code class="docutils literal"><span class="pre">NumPoints</span></code><a class="headerlink" href="#numpoints" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.NumPoints">
<em class="property">class </em><code class="descname">NumPoints</code>(<em>expression</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.NumPoints" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: MySQL, PostGIS, Oracle, SpatiaLite</p>
<p>Accepts a single geographic field or expression and returns the number of points
in the first linestring in the geometry field; otherwise returns <code class="docutils literal"><span class="pre">None</span></code>.</p>
</div>
<div class="section" id="s-perimeter">
<span id="perimeter"></span><h2><code class="docutils literal"><span class="pre">Perimeter</span></code><a class="headerlink" href="#perimeter" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Perimeter">
<em class="property">class </em><code class="descname">Perimeter</code>(<em>expression</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Perimeter" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: PostGIS, Oracle, SpatiaLite (≥ 4.0)</p>
<p>Accepts a single geographic field or expression and returns the perimeter of the
geometry field as a <a class="reference internal" href="../measure/#django.contrib.gis.measure.Distance" title="django.contrib.gis.measure.Distance"><code class="xref py py-class docutils literal"><span class="pre">Distance</span></code></a> object. On
MySQL, a raw float value is returned, as it&#8217;s not possible to automatically
determine the unit of the field.</p>
</div>
<div class="section" id="s-pointonsurface">
<span id="pointonsurface"></span><h2><code class="docutils literal"><span class="pre">PointOnSurface</span></code><a class="headerlink" href="#pointonsurface" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.PointOnSurface">
<em class="property">class </em><code class="descname">PointOnSurface</code>(<em>expression</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.PointOnSurface" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: PostGIS, Oracle, SpatiaLite</p>
<p>Accepts a single geographic field or expression and returns a <code class="docutils literal"><span class="pre">Point</span></code> geometry
guaranteed to lie on the surface of the field; otherwise returns <code class="docutils literal"><span class="pre">None</span></code>.</p>
</div>
<div class="section" id="s-reverse">
<span id="reverse"></span><h2><code class="docutils literal"><span class="pre">Reverse</span></code><a class="headerlink" href="#reverse" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Reverse">
<em class="property">class </em><code class="descname">Reverse</code>(<em>expression</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Reverse" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: PostGIS, Oracle, SpatiaLite (≥ 4.0)</p>
<p>Accepts a single geographic field or expression and returns a geometry with
reversed coordinates.</p>
</div>
<div class="section" id="s-scale">
<span id="scale"></span><h2><code class="docutils literal"><span class="pre">Scale</span></code><a class="headerlink" href="#scale" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Scale">
<em class="property">class </em><code class="descname">Scale</code>(<em>expression</em>, <em>x</em>, <em>y</em>, <em>z=0.0</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Scale" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: PostGIS, SpatiaLite</p>
<p>Accepts a single geographic field or expression and returns a geometry with
scaled coordinates by multiplying them with the <code class="docutils literal"><span class="pre">x</span></code>, <code class="docutils literal"><span class="pre">y</span></code>, and optionally
<code class="docutils literal"><span class="pre">z</span></code> parameters.</p>
</div>
<div class="section" id="s-snaptogrid">
<span id="snaptogrid"></span><h2><code class="docutils literal"><span class="pre">SnapToGrid</span></code><a class="headerlink" href="#snaptogrid" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.SnapToGrid">
<em class="property">class </em><code class="descname">SnapToGrid</code>(<em>expression</em>, <em>*args</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.SnapToGrid" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: PostGIS, SpatiaLite (≥ 3.1)</p>
<p>Accepts a single geographic field or expression and returns a geometry with all
points snapped to the given grid.  How the geometry is snapped to the grid
depends on how many numeric (either float, integer, or long) arguments are
given.</p>
<table class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Number of Arguments</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>A single size to snap both the X and Y grids to.</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>X and Y sizes to snap the grid to.</td>
</tr>
<tr class="row-even"><td>4</td>
<td>X, Y sizes and the corresponding X, Y origins.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="s-symdifference">
<span id="symdifference"></span><h2><code class="docutils literal"><span class="pre">SymDifference</span></code><a class="headerlink" href="#symdifference" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.SymDifference">
<em class="property">class </em><code class="descname">SymDifference</code>(<em>expr1</em>, <em>expr2</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.SymDifference" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: MySQL (≥ 5.6.1), PostGIS, Oracle, SpatiaLite</p>
<p>Accepts two geographic fields or expressions and returns the geometric
symmetric difference (union without the intersection) between the given
parameters.</p>
<div class="versionchanged">
<span class="title">Changed in Django Development version:</span> <p>MySQL support was added.</p>
</div>
</div>
<div class="section" id="s-transform">
<span id="transform"></span><h2><code class="docutils literal"><span class="pre">Transform</span></code><a class="headerlink" href="#transform" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Transform">
<em class="property">class </em><code class="descname">Transform</code>(<em>expression</em>, <em>srid</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Transform" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: PostGIS, Oracle, SpatiaLite</p>
<p>Accepts a geographic field or expression and a SRID integer code, and returns
the transformed geometry to the spatial reference system specified by the
<code class="docutils literal"><span class="pre">srid</span></code> parameter.</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">What spatial reference system an integer SRID corresponds to may depend on
the spatial database used.  In other words, the SRID numbers used for Oracle
are not necessarily the same as those used by PostGIS.</p>
</div>
</div>
<div class="section" id="s-translate">
<span id="translate"></span><h2><code class="docutils literal"><span class="pre">Translate</span></code><a class="headerlink" href="#translate" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Translate">
<em class="property">class </em><code class="descname">Translate</code>(<em>expression</em>, <em>x</em>, <em>y</em>, <em>z=0.0</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Translate" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: PostGIS, SpatiaLite</p>
<p>Accepts a single geographic field or expression and returns a geometry with
its coordinates offset by the <code class="docutils literal"><span class="pre">x</span></code>, <code class="docutils literal"><span class="pre">y</span></code>, and optionally <code class="docutils literal"><span class="pre">z</span></code> numeric
parameters.</p>
</div>
<div class="section" id="s-union">
<span id="union"></span><h2><code class="docutils literal"><span class="pre">Union</span></code><a class="headerlink" href="#union" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="django.contrib.gis.db.models.functions.Union">
<em class="property">class </em><code class="descname">Union</code>(<em>expr1</em>, <em>expr2</em>, <em>**extra</em>)<a class="headerlink" href="#django.contrib.gis.db.models.functions.Union" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><em>Availability</em>: MySQL (≥ 5.6.1), PostGIS, Oracle, SpatiaLite</p>
<p>Accepts two geographic fields or expressions and returns the union of both
geometries.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../measure/" class="btn btn-neutral float-right" title="Measurement Objects" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../geoquerysets/" class="btn btn-neutral" title="GeoQuerySet API Reference" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; 版权所有 Django Software Foundation and contributors.
      最后更新于 Apr 27, 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'1.10.dev20160423182652',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>