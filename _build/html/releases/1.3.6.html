

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Django 1.3.6 release notes &mdash; Django 1.10.dev20160423182652 文档</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Django 1.10.dev20160423182652 文档" href="../index.html"/>
        <link rel="up" title="Release notes" href="index.html"/>
        <link rel="next" title="Django 1.3.5 release notes" href="1.3.5.html"/>
        <link rel="prev" title="Django 1.3.7 release notes" href="1.3.7.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../contents.html" class="icon icon-home"> Django
          

          
          </a>

          
            
            
              <div class="version">
                1.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Django 最新中文文档</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">开始</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/index.html">Using Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto/index.html">&#8220;How-to&#8221; guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">Django FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/index.html">元文件和杂记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Release notes</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#final-releases">Final releases</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#release">1.10 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id1">1.9 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id2">1.8 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id3">1.7 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id4">1.6 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id5">1.5 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id6">1.4 release</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#id7">1.3 release</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="1.3.7.html">Django 1.3.7 release notes</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="">Django 1.3.6 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.3.5.html">Django 1.3.5 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.3.4.html">Django 1.3.4 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.3.3.html">Django 1.3.3 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.3.2.html">Django 1.3.2 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.3.1.html">Django 1.3.1 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.3.html">Django 1.3 release notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id8">1.2 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id9">1.1 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id10">1.0 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#pre-1-0-releases">Pre-1.0 releases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#security-releases">Security releases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../internals/index.html">Django internals</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../contents.html">Django</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../contents.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Release notes</a> &raquo;</li>
      
    <li>Django 1.3.6 release notes</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/releases/1.3.6.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="s-django-1-3-6-release-notes">
<span id="django-1-3-6-release-notes"></span><h1>Django 1.3.6 release notes<a class="headerlink" href="#django-1-3-6-release-notes" title="永久链接至标题">¶</a></h1>
<p><em>February 19, 2013</em></p>
<p>Django 1.3.6 fixes four security issues present in previous Django releases in
the 1.3 series.</p>
<p>This is the sixth bugfix/security release in the Django 1.3 series.</p>
<div class="section" id="s-host-header-poisoning">
<span id="host-header-poisoning"></span><h2>Host header poisoning<a class="headerlink" href="#host-header-poisoning" title="永久链接至标题">¶</a></h2>
<p>Some parts of Django &#8211; independent of end-user-written applications &#8211; make
use of full URLs, including domain name, which are generated from the HTTP Host
header. Django&#8217;s documentation has for some time contained notes advising users
on how to configure webservers to ensure that only valid Host headers can reach
the Django application. However, it has been reported to us that even with the
recommended webserver configurations there are still techniques available for
tricking many common webservers into supplying the application with an
incorrect and possibly malicious Host header.</p>
<p>For this reason, Django 1.3.6 adds a new setting, <code class="docutils literal"><span class="pre">ALLOWED_HOSTS</span></code>, which
should contain an explicit list of valid host/domain names for this site. A
request with a Host header not matching an entry in this list will raise
<code class="docutils literal"><span class="pre">SuspiciousOperation</span></code> if <code class="docutils literal"><span class="pre">request.get_host()</span></code> is called. For full details
see the documentation for the <a class="reference internal" href="../ref/settings.html#std:setting-ALLOWED_HOSTS"><code class="xref std std-setting docutils literal"><span class="pre">ALLOWED_HOSTS</span></code></a> setting.</p>
<p>The default value for this setting in Django 1.3.6 is <code class="docutils literal"><span class="pre">['*']</span></code> (matching any
host), for backwards-compatibility, but we strongly encourage all sites to set
a more restrictive value.</p>
<p>This host validation is disabled when <code class="docutils literal"><span class="pre">DEBUG</span></code> is <code class="docutils literal"><span class="pre">True</span></code> or when running tests.</p>
</div>
<div class="section" id="s-xml-deserialization">
<span id="xml-deserialization"></span><h2>XML deserialization<a class="headerlink" href="#xml-deserialization" title="永久链接至标题">¶</a></h2>
<p>The XML parser in the Python standard library is vulnerable to a number of
attacks via external entities and entity expansion. Django uses this parser for
deserializing XML-formatted database fixtures. The fixture deserializer is not
intended for use with untrusted data, but in order to err on the side of safety
in Django 1.3.6 the XML deserializer refuses to parse an XML document with a
DTD (DOCTYPE definition), which closes off these attack avenues.</p>
<p>These issues in the Python standard library are CVE-2013-1664 and
CVE-2013-1665. More information available <a class="reference external" href="http://blog.python.org/2013/02/announcing-defusedxml-fixes-for-xml.html">from the Python security team</a>.</p>
<p>Django&#8217;s XML serializer does not create documents with a DTD, so this should
not cause any issues with the typical round-trip from <code class="docutils literal"><span class="pre">dumpdata</span></code> to
<code class="docutils literal"><span class="pre">loaddata</span></code>, but if you feed your own XML documents to the <code class="docutils literal"><span class="pre">loaddata</span></code>
management command, you will need to ensure they do not contain a DTD.</p>
</div>
<div class="section" id="s-formset-memory-exhaustion">
<span id="formset-memory-exhaustion"></span><h2>Formset memory exhaustion<a class="headerlink" href="#formset-memory-exhaustion" title="永久链接至标题">¶</a></h2>
<p>Previous versions of Django did not validate or limit the form-count data
provided by the client in a formset&#8217;s management form, making it possible to
exhaust a server&#8217;s available memory by forcing it to create very large numbers
of forms.</p>
<p>In Django 1.3.6, all formsets have a strictly-enforced maximum number of forms
(1000 by default, though it can be set higher via the <code class="docutils literal"><span class="pre">max_num</span></code> formset
factory argument).</p>
</div>
<div class="section" id="s-admin-history-view-information-leakage">
<span id="admin-history-view-information-leakage"></span><h2>Admin history view information leakage<a class="headerlink" href="#admin-history-view-information-leakage" title="永久链接至标题">¶</a></h2>
<p>In previous versions of Django, an admin user without change permission on a
model could still view the unicode representation of instances via their admin
history log. Django 1.3.6 now limits the admin history log view for an object
to users with change permission for that model.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="1.3.5.html" class="btn btn-neutral float-right" title="Django 1.3.5 release notes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="1.3.7.html" class="btn btn-neutral" title="Django 1.3.7 release notes" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; 版权所有 Django Software Foundation and contributors.
      最后更新于 Apr 27, 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.10.dev20160423182652',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>