

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Django 1.5.3 release notes &mdash; Django 1.10.dev20160423182652 文档</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Django 1.10.dev20160423182652 文档" href="../../"/>
        <link rel="up" title="Release notes" href="../"/>
        <link rel="next" title="Django 1.5.2 release notes" href="../1.5.2/"/>
        <link rel="prev" title="Django 1.5.4 release notes" href="../1.5.4/"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../contents/" class="icon icon-home"> Django
          

          
          </a>

          
            
            
              <div class="version">
                1.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../">Django 最新中文文档</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro/">开始</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/">Using Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/">&#8220;How-to&#8221; guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/">Django FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ref/">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/">元文件和杂记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Glossary</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Release notes</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../#final-releases">Final releases</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../#release">1.10 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../#id1">1.9 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../#id2">1.8 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../#id3">1.7 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../#id4">1.6 release</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../#id5">1.5 release</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../1.5.12/">Django 1.5.12 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1.5.11/">Django 1.5.11 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1.5.10/">Django 1.5.10 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1.5.9/">Django 1.5.9 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1.5.8/">Django 1.5.8 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1.5.7/">Django 1.5.7 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1.5.6/">Django 1.5.6 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1.5.5/">Django 1.5.5 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1.5.4/">Django 1.5.4 release notes</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="">Django 1.5.3 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1.5.2/">Django 1.5.2 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1.5.1/">Django 1.5.1 release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1.5/">Django 1.5 release notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../#id6">1.4 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../#id7">1.3 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../#id8">1.2 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../#id9">1.1 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../#id10">1.0 release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../#pre-1-0-releases">Pre-1.0 releases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../#security-releases">Security releases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../internals/">Django internals</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../contents/">Django</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../contents/">Docs</a> &raquo;</li>
      
          <li><a href="../">Release notes</a> &raquo;</li>
      
    <li>Django 1.5.3 release notes</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/releases/1.5.3.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="s-django-1-5-3-release-notes">
<span id="django-1-5-3-release-notes"></span><h1>Django 1.5.3 release notes<a class="headerlink" href="#django-1-5-3-release-notes" title="永久链接至标题">¶</a></h1>
<p><em>September 10, 2013</em></p>
<p>This is Django 1.5.3, the third release in the Django 1.5 series. It addresses
one security issue and also contains an opt-in feature to enhance the security
of <a class="reference internal" href="../../topics/http/sessions/#module-django.contrib.sessions" title="django.contrib.sessions: Provides session management for Django projects."><code class="xref py py-mod docutils literal"><span class="pre">django.contrib.sessions</span></code></a>.</p>
<div class="section" id="s-directory-traversal-vulnerability-in-ssi-template-tag">
<span id="directory-traversal-vulnerability-in-ssi-template-tag"></span><h2>Directory traversal vulnerability in <code class="docutils literal"><span class="pre">ssi</span></code> template tag<a class="headerlink" href="#directory-traversal-vulnerability-in-ssi-template-tag" title="永久链接至标题">¶</a></h2>
<p>In previous versions of Django it was possible to bypass the
<code class="docutils literal"><span class="pre">ALLOWED_INCLUDE_ROOTS</span></code> setting used for security with the <code class="docutils literal"><span class="pre">ssi</span></code>
template tag by specifying a relative path that starts with one of the allowed
roots. For example, if <code class="docutils literal"><span class="pre">ALLOWED_INCLUDE_ROOTS</span> <span class="pre">=</span> <span class="pre">(&quot;/var/www&quot;,)</span></code> the following
would be possible:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">ssi</span> <span class="s2">&quot;/var/www/../../etc/passwd&quot;</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>In practice this is not a very common problem, as it would require the template
author to put the <code class="docutils literal"><span class="pre">ssi</span></code> file in a user-controlled variable, but it&#8217;s possible
in principle.</p>
</div>
<div class="section" id="s-mitigating-a-remote-code-execution-vulnerability-in-django-contrib-sessions">
<span id="mitigating-a-remote-code-execution-vulnerability-in-django-contrib-sessions"></span><h2>Mitigating a remote-code execution vulnerability in <a class="reference internal" href="../../topics/http/sessions/#module-django.contrib.sessions" title="django.contrib.sessions: Provides session management for Django projects."><code class="xref py py-mod docutils literal"><span class="pre">django.contrib.sessions</span></code></a><a class="headerlink" href="#mitigating-a-remote-code-execution-vulnerability-in-django-contrib-sessions" title="永久链接至标题">¶</a></h2>
<p><a class="reference internal" href="../../topics/http/sessions/#module-django.contrib.sessions" title="django.contrib.sessions: Provides session management for Django projects."><code class="xref py py-mod docutils literal"><span class="pre">django.contrib.sessions</span></code></a> currently uses <a class="reference external" href="https://docs.python.org/3/library/pickle.html#module-pickle" title="(在 Python v3.5)"><code class="xref py py-mod docutils literal"><span class="pre">pickle</span></code></a> to serialize
session data before storing it in the backend. If you&#8217;re using the <a class="reference internal" href="../../topics/http/sessions/#cookie-session-backend"><span>signed
cookie session backend</span></a> and <a class="reference internal" href="../../ref/settings/#std:setting-SECRET_KEY"><code class="xref std std-setting docutils literal"><span class="pre">SECRET_KEY</span></code></a> is
known by an attacker (there isn&#8217;t an inherent vulnerability in Django that
would cause it to leak), the attacker could insert a string into his session
which, when unpickled, executes arbitrary code on the server. The technique for
doing so is simple and easily available on the internet. Although the cookie
session storage signs the cookie-stored data to prevent tampering, a
<a class="reference internal" href="../../ref/settings/#std:setting-SECRET_KEY"><code class="xref std std-setting docutils literal"><span class="pre">SECRET_KEY</span></code></a> leak immediately escalates to a remote code execution
vulnerability.</p>
<p>This attack can be mitigated by serializing session data using JSON rather
than <a class="reference external" href="https://docs.python.org/3/library/pickle.html#module-pickle" title="(在 Python v3.5)"><code class="xref py py-mod docutils literal"><span class="pre">pickle</span></code></a>. To facilitate this, Django 1.5.3 introduces a new setting,
<a class="reference internal" href="../../ref/settings/#std:setting-SESSION_SERIALIZER"><code class="xref std std-setting docutils literal"><span class="pre">SESSION_SERIALIZER</span></code></a>, to customize the session serialization format.
For backwards compatibility, this setting defaults to using <a class="reference external" href="https://docs.python.org/3/library/pickle.html#module-pickle" title="(在 Python v3.5)"><code class="xref py py-mod docutils literal"><span class="pre">pickle</span></code></a>.
While JSON serialization does not support all Python objects like <a class="reference external" href="https://docs.python.org/3/library/pickle.html#module-pickle" title="(在 Python v3.5)"><code class="xref py py-mod docutils literal"><span class="pre">pickle</span></code></a>
does, we highly recommend switching to JSON-serialized values. Also,
as JSON requires string keys, you will likely run into problems if you are
using non-string keys in <code class="docutils literal"><span class="pre">request.session</span></code>. See the
<a class="reference internal" href="../../topics/http/sessions/#session-serialization"><span>Session serialization</span></a> documentation for more details.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../1.5.2/" class="btn btn-neutral float-right" title="Django 1.5.2 release notes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../1.5.4/" class="btn btn-neutral" title="Django 1.5.4 release notes" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; 版权所有 Django Software Foundation and contributors.
      最后更新于 Apr 27, 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.10.dev20160423182652',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>